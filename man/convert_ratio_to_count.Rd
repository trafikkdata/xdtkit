% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validate_after_control.R
\name{convert_ratio_to_count}
\alias{convert_ratio_to_count}
\title{Convert ratio-based truth values to counts for validation}
\usage{
convert_ratio_to_count(data, truth_col, aadt_col, ratio_uncertainty_fn = NULL)
}
\arguments{
\item{data}{Data frame containing ratio predictions and AADT values.}

\item{truth_col}{Character. Name of column containing ratio truth values.}

\item{aadt_col}{Character. Name of column containing total AADT values.}

\item{ratio_uncertainty_fn}{Optional function(ratio, aadt) to estimate ratio
standard error. If NULL, uses default estimation based on ratio value.}
}
\value{
Data frame with truth_col converted to counts and added uncertainty column.
}
\description{
For ratio models (e.g., heavy vehicle percentage), converts ratio predictions
and uncertainties to absolute counts by multiplying with total AADT and
propagating uncertainties.
}
\details{
Uncertainty propagation uses: Var(ratio x aadt) = (approx.) (ratio x SE_aadt)^2 + (aadt * SE_ratio)^2
}
