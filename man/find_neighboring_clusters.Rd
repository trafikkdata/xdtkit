% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_balancing_clusters.R
\name{find_neighboring_clusters}
\alias{find_neighboring_clusters}
\title{Find Neighboring Clusters Across Barriers}
\usage{
find_neighboring_clusters(
  cluster_links,
  network_graph,
  base_assignments,
  barrier_links
)
}
\arguments{
\item{cluster_links}{Character vector of link IDs in the cluster of interest}

\item{network_graph}{An igraph object representing the full link adjacency network}

\item{base_assignments}{Data frame with columns \code{id} and \code{cluster_id}}

\item{barrier_links}{Character vector of barrier link IDs}
}
\value{
Integer vector of unique neighboring cluster IDs (excluding the
  cluster itself)
}
\description{
Identifies which clusters neighbor a given cluster by looking through barrier
links. Essential for merging clusters that are separated by measurement points
but should be combined.
}
\details{
For each link in the cluster:
\enumerate{
  \item Find its neighbors in the full network
  \item For each neighbor:
    \itemize{
      \item If neighbor is a barrier: look at barrier's neighbors to find
        clusters on the other side
      \item If neighbor is non-barrier: directly record its cluster ID
    }
  \item Return unique cluster IDs (excluding self)
}
}
\section{Why Look Through Barriers}{

Base clusters are disconnected by design (barriers removed). To enable merging,
we need to identify which clusters are adjacent in the original network, even
if separated by measurement barriers.
}

\section{Example}{

\preformatted{
[Cluster A] <-> [barrier] <-> [Cluster B]
   (small)                      (medium)
}
Function identifies Cluster B as a neighbor of Cluster A by looking through
the barrier link.
}

\examples{
\dontrun{
cluster_links <- base_assignments$id[base_assignments$cluster_id == 1]
neighbors <- find_neighboring_clusters(
  cluster_links,
  network_graph,
  base_assignments,
  barrier_links
)
}
}
\seealso{
\code{\link{merge_small_clusters}}
}
