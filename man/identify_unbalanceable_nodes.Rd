% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_prep_nodes.R
\name{identify_unbalanceable_nodes}
\alias{identify_unbalanceable_nodes}
\title{Identify Unbalanceable Nodes}
\usage{
identify_unbalanceable_nodes(nodes, directed_traffic_links)
}
\arguments{
\item{nodes}{A spatial data frame (sf object) containing traffic nodes with columns:
id, connectedTrafficLinkIds, roadSystems, numberOfIncomingLinks, numberOfOutgoingLinks,
numberOfUndirectedLinks, and connectedTrafficLinkCandidateIds}

\item{directed_traffic_links}{A data frame of directed traffic links containing
parentTrafficLinkId and roadSystem columns}
}
\value{
A spatial data frame with additional columns:
  \itemize{
    \item n_roadSystems: Number of road systems at the node
    \item trafficLinkRoadSystems: List of unique road systems from connected traffic links
    \item n_trafficLinkRoadSystems: Number of unique road systems from traffic links
    \item number_of_traffic_links: Count of connected traffic links
    \item number_of_candidate_links: Count of candidate traffic links
    \item i_intersection: Logical flag for I-intersections (2 in, 2 out, 2 undirected,
      with more road systems than traffic link systems)
    \item unbalanceable_node: Logical flag for nodes with incomplete information
  }
}
\description{
Identifies nodes in the traffic network that cannot be balanced due to incomplete
information or structural issues. Flags both I-intersections (where road systems
cross without merging) and incomplete nodes (where candidate links exceed actual
traffic links).
}
