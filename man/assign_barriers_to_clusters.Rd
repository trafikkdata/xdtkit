% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_balancing_clusters.R
\name{assign_barriers_to_clusters}
\alias{assign_barriers_to_clusters}
\title{Assign barrier links to all neighboring clusters}
\usage{
assign_barriers_to_clusters(network_graph, barriers, base_assignments)
}
\arguments{
\item{network_graph}{An igraph object representing the link adjacency network}

\item{barriers}{Character vector of barrier link IDs}

\item{base_assignments}{Data frame with columns \code{id} and \code{cluster_id}
containing base cluster assignments (before boundaries added)}
}
\value{
Data frame with columns:
  \describe{
    \item{id}{Barrier link ID}
    \item{cluster_id}{Cluster ID (one row per adjacent cluster)}
  }
  Each barrier appears multiple times if it borders multiple clusters.
}
\description{
For each barrier link (measurement point used to separate clusters), identifies
which clusters it borders and assigns it to all of them. This creates duplicate
entries for boundary links, ensuring flow continuity during Bayesian balancing.
}
\details{
For each barrier link:
\enumerate{
  \item Find its neighbors in the network
  \item Determine which clusters those neighbors belong to
  \item Create one assignment row per unique neighboring cluster
}

This ensures measurement values are available to all clusters they border,
providing continuity constraints during flow balancing.
}
\examples{
\dontrun{
barrier_assignments <- assign_barriers_to_clusters(
  mainland_graph,
  selected_barriers,
  base_assignments
)
}
}
\seealso{
\code{\link{strategic_network_clustering}}, \code{\link{merge_small_clusters}}
}
