% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_measurement_error.R
\name{calculate_measurement_error}
\alias{calculate_measurement_error}
\title{Calculate measurement error variance for traffic volume data}
\usage{
calculate_measurement_error(
  data,
  colname_aadt = "aadt",
  source_col = "traffic_volume_source",
  year_col = "traffic_volume_year",
  coverage_col = "coverage",
  current_year = 2024,
  params = list(),
  return_cv = FALSE
)
}
\arguments{
\item{data}{Data frame containing traffic measurements}

\item{colname_aadt}{Name of column containing AADT values}

\item{source_col}{Name of column containing source type}

\item{year_col}{Name of column containing measurement year}

\item{coverage_col}{Name of column containing temporal coverage (0-1),
required for "Trafikkdata_continuous", "Trafikkdata_periodic", and "AutoPASS"}

\item{current_year}{Current year for temporal decay calculation (default: 2024)}

\item{params}{List of parameters (see details)}
}
\value{
Vector of measurement error standard deviations (same length as input data)
}
\description{
This function computes measurement error variances based on:
1. Data source type (continuous, periodic, ferry, etc.)
2. Temporal coverage (for continuous and periodic measurements)
3. Age of data (temporal decay)
4. For derived values: error propagation from contributing segments
}
\details{
Parameters list should contain:
- cv_base_continuous: Base CV for continuous measurements (default: 0.015)
- cv_base_autopass: Base CV for AutoPASS (default: 0.02)
- k_missing: Factor for missing data uncertainty (default: 0.5)
- cv_ferry: CV for ferry data (default: 0.075)
- cv_external: CV for external municipal data (default: 0.20)
- cv_bus: CV for bus data (default: 0.15)
- cv_annual: Annual CV for temporal decay (default: 0.02)
- cv_max_periodic: Maximum CV for periodic measurements (default: NULL for no cap)
}
